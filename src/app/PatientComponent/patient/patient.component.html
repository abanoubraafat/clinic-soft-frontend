<div class="alert-container">
  <app-success *ngIf="isSaved" [title]="'Patient'" [status]="'Added'"></app-success>
</div>
<app-page-title [spanText]="'Add A'" [headerText]="'Patient'"></app-page-title>

<div class="container">
  <form (ngSubmit)="onSubmit(); submitted = true;"  class="appoinment-form">

        <div class="form-group mb-3 col-md-6">
          <label for="firstName">First Name*:</label>
          <input type="text" id="firstName" class="form-control" name="firstName" [(ngModel)]="newPatient.FName" required pattern="[A-Za-z]+" title="Please enter alphabetic characters only">
          <ng-container *ngIf="submitted && (!newPatient.FName || newPatient.FName.length < 3)">
            <p style="color: rgb(199, 44, 44);">Please Enter First Name with at least 3 characters</p>
          </ng-container>
          <ng-container *ngIf="submitted && (!newPatient.FName || containsNumbers(newPatient.FName))">
            <p style="color: rgb(199, 44, 44);">Please Enter alphabetic characters only</p>
          </ng-container>
        </div>

        <img src=".\assets\Icons\patient.gif" alt="no" class="img-fluid" width="400px" height="400px" style="float: right; margin-right: 100px;">

      <div class="form-group mb-3 col-md-6">
        <label for="lastName">Last Name*:</label>
        <input type="text" id="lastName" class="form-control" name="lastName" [(ngModel)]="newPatient.LName" required>
        <ng-container *ngIf="submitted && (!newPatient.LName || newPatient.LName.length < 3)">
          <p style="color: rgb(199, 44, 44);">Please Enter Last Name with at least 3 characters</p>
        </ng-container>
        <ng-container *ngIf="submitted && (!newPatient.LName || containsNumbers(newPatient.LName))">
          <p style="color: rgb(199, 44, 44);">Please Enter alphabetic characters only</p>
      </ng-container>
      </div>
      <div class="form-group mb-3 col-md-6">
        <label for="nationalId">National ID*:</label>
        <input type="number" id="nationalId" class="form-control" name="nationalId" (input)="onNationalidChange($event)" [(ngModel)]="newPatient.NationalId" required>

        <ng-container *ngIf="NationalIdExsistError">
          <p style="color: rgb(199, 44, 44);"> National ID already Exsist</p>
        </ng-container>
        <ng-container *ngIf="lengthError">
          <p style="color: rgb(199, 44, 44);">National ID must be 14 digits long</p>
        </ng-container>
        <ng-container *ngIf="newPatient.NationalId < 0">
          <p style="color: rgb(199, 44, 44);">Please enter a positive number</p>
      </ng-container>
      <ng-container *ngIf="doubleError">
        <p style="color: rgb(199, 44, 44);">Please enter an integer number</p>
    </ng-container>
      </div>
      <div class="form-group mb-3 col-md-6">
        <label for="bloodType">Blood Type:</label>
        <input type="text" id="bloodType" class="form-control" name="bloodType" [(ngModel)]="newPatient.BloodType" required>
        <!-- <ng-container *ngIf="!newPatient.BloodType && submitted">
          <p style="color: rgb(199, 44, 44);">Please Enter Blood Type</p>
        </ng-container>
        <ng-container *ngIf="submitted && (!newPatient.BloodType || containsNumbers(newPatient.BloodType))">
    <p style="color: rgb(199, 44, 44);">Please Enter alphabetic characters only</p>
</ng-container> -->
      </div>
      <div class="form-group mb-3 col-md-6">
        <label for="notes">Notes:</label>
        <textarea id="notes" name="notes" class="form-control" [(ngModel)]="newPatient.Notes"></textarea>
      </div>
      <div class="form-group mb-3 col-md-6">
        <label for="medications">Medications:</label>
        <textarea id="medications" name="medications" class="form-control" [(ngModel)]="newPatient.Medications"></textarea>
      </div>
      <div class="form-group mb-3 col-md-6">
        <label for="Condition">Condition:</label>
        <textarea id="Condition" name="Condition" class="form-control" [(ngModel)]="newPatient.Condition"></textarea>
      </div>
      <div class="mb-5 mt-5 text-center">
          <button type="submit" class="btn-main btn-round-full w-25">Add Patient</button>
      </div>
  </form>
</div>
